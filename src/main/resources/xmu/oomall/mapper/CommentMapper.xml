<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="xmu.oomall.mapper.CommentMapper">
  <resultMap id="BaseResultMaps" type="xmu.oomall.domain.CommentPo">


    <constructor>
      <idArg column="id" javaType="java.lang.Integer" jdbcType="BIGINT" />
      <idArg column="user_id" javaType="java.lang.Integer" jdbcType="BIGINT"/>
      <idArg column="product_id" javaType="java.lang.Integer" jdbcType="BIGINT"/>
      <arg column="content" javaType="java.lang.String" jdbcType="VARCHAR"/>
      <arg column="status" javaType="java.lang.Integer" jdbcType="TINYINT"/>
      <arg column="star" javaType="java.lang.Integer" jdbcType="TINYINT"/>
      <arg column="gmt_creat" javaType="java.time.LocalDateTime" jdbcType="TIMESTAMP"/>
      <arg column="gmt_modified" javaType="java.time.LocalDateTime" jdbcType="TIMESTAMP"/>
      <arg column="is_deleted" javaType="java.lang.Boolean" jdbcType="BIT"/>
    </constructor>
  </resultMap>
  
  
  <resultMap id="BaseResultMap" type="xmu.oomall.domain.CommentPo" autoMapping="true">
    <!--@mbg.generated-->
    <!--@Table comment-->



    <id column="id"  property="id" />
    <result column="user_id"  property="userId" />
    <result column="content" property="content" />
    <result column="status"  property="statusCode" />
    <result column="star"  property="star" />
    <result column="product_id"  property="productId" />
    <result column="gmt_create"  property="gmtCreate" />
    <result column="gmt_modified"  property="gmtModified" />
    <result column="is_deleted"  property="beDeleted" />
    
  </resultMap>
  <sql id="Base_Column_List">
    <!--@mbg.generated-->
    id, user_id, content, `status`, star, product_id, gmt_create, gmt_modified, is_deleted
  </sql>
  <select id="selectByProductId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--@mbg.generated-->
    select 
    <include refid="Base_Column_List" />
    from comment
    where product_id = #{id,jdbcType=BIGINT}
  </select>

<!--auto generated by MybatisCodeHelper on 2019-12-15-->
  <select id="findAllByProductId" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List"/>
    from comment
    where product_id=#{productId}
  </select>


<!--auto generated by MybatisCodeHelper on 2019-12-15-->
  <insert id="insertSelective">
        INSERT INTO comment
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id!=null">id,</if>
            <if test="userId!=null">user_id,</if>
            <if test="content!=null">content,</if>
            <if test="statusCode!=null">status,</if>
            <if test="star!=null">star,</if>
            <if test="productId!=null">product_id,</if>
            <if test="gmtCreate!=null">gmt_create,</if>
            <if test="gmtModified!=null">gmt_modified,</if>
            <if test="beDeleted!=null">is_deleted</if>
        </trim>
        VALUES
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id!=null">#{id},</if>
            <if test="userId!=null">#{userId},</if>
            <if test="content!=null">#{content},</if>
            <if test="statusCode!=null">#{statusCode},</if>
            <if test="star!=null">#{star},</if>
            <if test="productId!=null">#{productId},</if>
            <if test="gmtCreate!=null">#{gmtCreate},</if>
            <if test="gmtModified!=null">#{gmtModified},</if>
            <if test="beDeleted!=null">#{beDeleted}</if>
        </trim>
    </insert>

<!--auto generated by MybatisCodeHelper on 2019-12-15-->
  <delete id="deleteById">
        delete from comment
        where id=#{id}
    </delete>

</mapper>